"use strict";(self.webpackChunkreact_xform=self.webpackChunkreact_xform||[]).push([[216],{97216:function(hn,ye,v){v.r(ye),v.d(ye,{AsyncValue:function(){return Z},Foo:function(){return Re},Form:function(){return O},FormEnvProvider:function(){return Ce},FormItem:function(){return Qt},FormModel:function(){return ne},arrayHelpers:function(){return De},createFormItem:function(){return _},modelUtils:function(){return R},useFormEnv:function(){return z},useModel:function(){return G}});var V=v(75271),b=v(52676),Be=function(n){return(0,b.jsx)("h4",{children:n.title})},Re=Be,He=v(26068),g=v.n(He),Ue=v(48305),W=v.n(Ue),Xe=v(67825),$=v.n(Xe),Ze=v(335),K=v.n(Ze),Je=v(90228),H=v.n(Je),Qe=v(87999),ue=v.n(Qe),ze=v(15558),te=v.n(ze),Ke=v(25298),U=v.n(Ke),qe=v(17069),X=v.n(qe),_e=v(82092),h=v.n(_e),et=v(53670),se=v.n(et),l=v(28123),D=function(e){return e.rootModel="rootModel",e.subModel="subModel",e}({}),M=function(e){return e.normal="normal",e.tuple="tuple",e.readonly="readonly",e}({}),tt=v(21742),nt=v.n(tt),rt=v(83136),at=v.n(rt),it=v(53318),ot=v.n(it),Z=function(){function e(n,t){var r=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};U()(this,e),h()(this,"_disposers",void 0),h()(this,"_error",void 0),h()(this,"_reaction",void 0),h()(this,"_status",void 0),h()(this,"_current",void 0),h()(this,"_cancelLastGetter",void 0),h()(this,"_atom",void 0),h()(this,"_refreshAtom",void 0),h()(this,"fetcher",void 0),h()(this,"options",void 0),h()(this,"name",void 0),h()(this,"_start",function(){r._reaction||(r._reaction=new l.Reaction("".concat(r.name,"#reaction"),function(){r._status!=="loading"&&(r._status="loading",r._atom.reportChanged()),r._reaction&&r._reaction.track(function(){var i,o=!1;r._cancelLastGetter=function(){o=!0};var u=(i=r._mobxGlobal.inXFormAsyncValueFetcher)!==null&&i!==void 0?i:!1;r._mobxGlobal.inXFormAsyncValueFetcher=!0,r._refreshAtom.reportObserved();var f;try{f=r.fetcher()}catch(c){f=Promise.reject(c)}Promise.resolve(f).then(function(c){o||(0,l.runInAction)(function(){r._status="ready",c!==e.SKIP&&(r._current=c),r._error=null,r._atom.reportChanged()})}).catch(function(c){if(!(c instanceof e.StillLoading))throw(0,l.runInAction)(function(){r._status="error",r._error=c,r._atom.reportChanged()}),c}),r._mobxGlobal.inXFormAsyncValueFetcher=u})}),r._reaction.schedule_())}),h()(this,"_stop",function(){r._status="loading",r._reaction&&(r._reaction.dispose(),r._reaction=null)}),this._disposers=[],this._error=null,this._reaction=null,this._status="loading",this._current=t,this._cancelLastGetter=null,this.fetcher=n,this.options=a,this.name=typeof a.name=="string"?a.name:"AsyncValue_".concat(e._globalCount++),this._atom=(0,l.createAtom)("".concat(this.name,"#state")),this._refreshAtom=(0,l.createAtom)("".concat(this.name,"#refresh")),(0,l.makeObservable)(this,{status:l.computed,error:l.computed,_inner_current:(0,l.computed)({name:"".concat(this.name,".inner_current")}),isLoading:l.computed,isError:l.computed,isReady:l.computed},{name:this.name}),this._disposers.push(this._stop),this._disposers.push((0,l.onBecomeObserved)(this._atom,this._start)),this._disposers.push((0,l.onBecomeUnobserved)(this._atom,function(){r.options.keepAlive||r._stop()})),this._disposers.push(function(){r._status="ready",r._current=null,r._error=null})}return X()(e,[{key:"_mobxGlobal",get:function(){return(0,l._getGlobalState)()}},{key:"refresh",value:function(){this._refreshAtom.reportChanged()}},{key:"dispose",value:function(){var t=K()(this._disposers),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a()}}catch(i){t.e(i)}finally{t.f()}}},{key:"status",get:function(){return this._atom.reportObserved(),this._status}},{key:"_inner_current",get:function(){return this._atom.reportObserved(),this._current}},{key:"current",get:function(){if(this._mobxGlobal.inXFormAsyncValueFetcher){if(this._atom.reportObserved(),this._status==="loading")throw new e.StillLoading;if(this._status==="error")throw this._error;return this._current}return this._inner_current}},{key:"error",get:function(){return this._atom.reportObserved(),this._error}},{key:"isLoading",get:function(){return this.status==="loading"}},{key:"isReady",get:function(){return this.status==="ready"}},{key:"isError",get:function(){return this.status==="error"}}]),e}();h()(Z,"_globalCount",0),h()(Z,"SKIP","AsyncValue@SKIP"),h()(Z,"StillLoading",function(e){nt()(t,e);var n=at()(t);function t(){return U()(this,t),n.apply(this,arguments)}return X()(t)}(ot()(Error)));function be(e){return String(Number.parseInt(e))===e}function de(e){return be(e)?"array":"object"}function q(e){return String(e).split(".")}function P(e,n){return e!==void 0?e:n}function lt(e,n,t){for(var r=Array.isArray(n)?n:q(n),a=e,i=0;i<r.length;i+=1){if(!l.isObservable(a))return t;a=l.get(a,r[i])}return a===void 0?t:a}function L(e,n,t){for(var r=Array.isArray(n)?n:q(n),a=r.length-1,i=e,o=0;o<a;o+=1){var u=r[o];if(l.get(i,u)==null&&(be(r[o+1])?l.set(i,u,[]):l.set(i,u,{})),i=l.get(i,u),!l.isObservable(i))return}l.isObservable(i)&&l.set(i,r[a],t)}function ut(e){var n=function(a){return("0"+a.toString(16)).slice(-2)},t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,n).join("")}function st(e){var n=(0,V.useState)(function(){return"xform_".concat(ut(6),".")}),t=W()(n,1),r=t[0];return e!==void 0?e:r}function J(e){return typeof e=="number"?"".concat(e,"px"):e}function dt(e){return!e||Array.isArray(e)&&e.length===0}var ct=function(n){for(var t=[],r=0;r<n;r++)t.push(r);return t};function ft(e,n){var t={};return n.forEach(function(r){r in e&&(t[r]=e[r])}),t}function Fe(e,n){if(typeof e=="string")return function(){return(0,l.toJS)(n.getValue(e))};if(typeof e=="function")return e;if(e instanceof B)return function(){return e.value};if(e instanceof ne)return function(){return(0,l.toJS)(e.values)};if(e instanceof Z)return function(){return e.current};if(Array.isArray(e))return function(){return e.map(function(t){if(typeof t=="string")return(0,l.toJS)(n.getValue(t));if(t instanceof Z)return t.current;if(t instanceof B)return t.value;if(t instanceof ne)return(0,l.toJS)(t.values)})};console.warn("[xform] \u65E0\u6CD5\u8BC6\u522B\u7684 watch \u53C2\u6570",e)}var ht=[],vt={modelType:D.rootModel},Ve=function(){function e(n){U()(this,e),h()(this,"_nextId",1),h()(this,"prefix",void 0),this.prefix=n}return X()(e,[{key:"getNextId",value:function(){return"".concat(this.prefix,"_").concat(this._nextId++)}}]),e}(),ne=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt;U()(this,e),h()(this,"_modelIdGenerator",void 0),h()(this,"_fieldIdGenerator",void 0),h()(this,"id",void 0),h()(this,"state",{}),h()(this,"root",void 0),h()(this,"parent",void 0),h()(this,"name",void 0),h()(this,"_modelType",void 0),h()(this,"_values",void 0),h()(this,"_fieldMap",new Map),h()(this,"_valueShape","auto"),h()(this,"_subModels",void 0),h()(this,"_checkMap",new Map),h()(this,"_selfDeleted",!1),(t==null?void 0:t.modelType)===D.subModel?(this._modelType=D.subModel,this.parent=t.parent,this.root=this.parent.root,this.name=t.name,this.id=this.root._modelIdGenerator.getNextId()):(this._modelType=D.rootModel,this.parent=this,this.root=this,this.name="",this._modelIdGenerator=new Ve("Model"),this._fieldIdGenerator=new Ve("Field"),this.id=this._modelIdGenerator.getNextId(),this._values=P(n,{}),this._values==null&&console.warn("[xform] FormModel \u6839\u8282\u70B9\u7684\u521D\u59CB values \u4E0D\u80FD\u4E3A null")),(0,l.makeObservable)(this,{_values:this._modelType===D.rootModel?l.observable:!1,values:l.computed,state:l.observable,setValue:l.action,name:l.observable.ref,path:l.computed,_selfDeleted:l.observable.ref,isDeleted:l.computed,_markDeleted:l.action},{name:"".concat(this.id,"(").concat(this.name,")")})}return X()(e,[{key:"values",get:function(){return this._modelType===D.rootModel?this._values:this.parent.getValue(this.name)},set:function(t){if(this.isDeleted){console.warn("[xform] \u5BF9\u5DF2\u5220\u9664\u7684 Model \u8FDB\u884C\u8D4B\u503C\u5C06\u88AB\u5FFD\u7565\u3002\u8BF7\u4E0D\u8981\u5BF9\u5DF2\u5220\u9664\u7684 Model/Field \u8FDB\u884C\u64CD\u4F5C\u3002");return}this._modelType===D.rootModel?(t==null&&console.warn("[xform] FormModel \u6839\u8282\u70B9\u7684 values \u4E0D\u80FD\u8BBE\u7F6E\u4E3A null/undefined"),this._values=t):this.parent.setValue(this.name,t)}},{key:"path",get:function(){return this._modelType==D.rootModel?ht:[].concat(te()(this.parent.path),[this.name])}},{key:"getValue",value:function(t,r){return lt(this.values,String(t),r)}},{key:"setValue",value:function(t,r){if(this.isDeleted){console.warn("[xform] \u5BF9\u5DF2\u5220\u9664\u7684 Model \u8FDB\u884C\u8D4B\u503C\u5C06\u88AB\u5FFD\u7565\u3002\u8BF7\u4E0D\u8981\u5BF9\u5DF2\u5220\u9664\u7684 Model/Field \u8FDB\u884C\u64CD\u4F5C\u3002");return}this._modelType===D.subModel&&this.values==null&&(this._updateValueShape(de(q(String(t))[0])),this.values=this._valueShape==="array"?[]:{}),L(this.values,t,r)}},{key:"getSubModel",value:function(t){for(var r=Array.isArray(t)?t:q(t),a=this,i=0;i<r.length-1;i++)a=a._getSubModelByShortName(r[i]);return a._getSubModelByShortName(r[r.length-1])}},{key:"getField",value:function(t){var r=Array.isArray(t)?t:q(t);if(r.length>1){var a=r[r.length-1],i=this.getSubModel(r.slice(0,-1));return i.getField([a])}var o=r[0];this._updateValueShape(de(o));var u=this._fieldMap.get(o);return u==null&&(u=new B({fieldType:M.normal,parent:this,name:o}),this._fieldMap.set(o,u)),u}},{key:"getTupleField",value:function(){this._updateValueShape("object");for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i="tuple(".concat(r.join(","),")"),o=this._fieldMap.get(i);return o==null&&(o=new B({fieldType:M.tuple,parent:this,name:i,tupleParts:r}),this._fieldMap.set(i,o)),o}},{key:"_asField",value:function(){if(this._modelType===D.rootModel)throw new Error("[xform] \u6839\u8282\u70B9\u4E0B\u4E0D\u652F\u6301\u4F7F\u7528 name=&\u3002\u6839\u8282\u70B9\u7684\u6570\u636E\u7ED3\u6784\u53EA\u80FD\u4E3A\u666E\u901A\u5BF9\u8C61\u3002");return this.parent.getField(this.name)}},{key:"_updateValueShape",value:function(t){this._valueShape==="auto"?(this._valueShape=t,this._subModels=t==="object"?{}:[]):se()(this._valueShape===t,"[xform] FormModel \u7684\u7ED3\u6784\u9700\u8981\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\u4FDD\u6301\u4E00\u81F4\uFF0C\u4E00\u4E2A\u6570\u636E\u7D22\u5F15\u5BF9\u5E94\u7684\u7ED3\u6784\u4E0D\u80FD\u4ECE\u6570\u7EC4\u53D8\u4E3A\u5BF9\u8C61\uFF0C\u4E5F\u4E0D\u80FD\u4ECE\u5BF9\u8C61\u53D8\u4E3A\u6570\u7EC4")}},{key:"iterateModels",value:function(t){if(t(this),this._subModels!=null)for(var r=0,a=Object.values(this._subModels);r<a.length;r++){var i=a[r];i.iterateModels(t)}}},{key:"iterateFields",value:function(t){this.iterateModels(function(r){r._fieldMap.forEach(function(a){a._forkMap.forEach(t)})})}},{key:"iterateChecks",value:function(t){this.iterateModels(function(r){r._checkMap.forEach(t)})}},{key:"_getSubModelByShortName",value:function(t){this._updateValueShape(de(t));var r=this._subModels[t];return r==null&&(r=new e(null,{modelType:D.subModel,parent:this,name:t}),this._subModels[t]=r),r}},{key:"getCheck",value:function(t){var r=this._checkMap.get(t);return r==null&&(r=new mt(this,t),this._checkMap.set(t,r)),r}},{key:"isDeleted",get:function(){return this._selfDeleted?!0:this._modelType===D.subModel&&this.parent.isDeleted}},{key:"_markDeleted",value:function(){se()(this._modelType===D.subModel,"\u53EA\u6709 subModels \u624D\u5141\u8BB8\u88AB\u5220\u9664."),this.name="(deleted)",this._selfDeleted=!0}}]),e}(),mt=function(){function e(n,t){U()(this,e),h()(this,"isMounted",!1),h()(this,"config",null),h()(this,"parent",void 0),h()(this,"name",void 0),h()(this,"error",void 0),h()(this,"cancelValidation",null),h()(this,"validating",!1),this.parent=n,this.name=t,(0,l.makeObservable)(this,{path:l.computed,validate:l.action,error:l.observable,cancelValidation:l.observable.ref,validating:l.observable.ref})}return X()(e,[{key:"path",get:function(){return this.parent.path.concat([this.name])}},{key:"_track",value:function(t){var r=this;if(this.isMounted){console.warn("[xform] check `".concat(this.path.join("."),"` \u5DF2\u5728\u89C6\u56FE\u4E2D\u88AB\u52A0\u8F7D\u3002"));return}return this.config=t,this.isMounted=!0,function(){r.config=null,r.isMounted=!1}}},{key:"validate",value:function(){var n=ue()(H()().mark(function r(){var a,i=this,o,u,f,c,d;return H()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.isMounted){p.next=2;break}return p.abrupt("return");case 2:if(o=this.config.validate,u=!1,(a=this.cancelValidation)===null||a===void 0||a.call(this),this.validating=!0,this.cancelValidation=(0,l.action)(function(){u=!0,i.cancelValidation=null,i.validating=!1}),f=(0,l.action)(function(s){if(!u)return i.cancelValidation=null,i.validating=!1,i.error=s,s}),c=this.parent,d=o((0,l.toJS)(c.values),c),typeof(d==null?void 0:d.then)!="function"){p.next=14;break}return p.abrupt("return",Promise.resolve(d).then(f));case 14:return p.abrupt("return",f(d));case 15:case"end":return p.stop()}},r,this)}));function t(){return n.apply(this,arguments)}return t}()}]),e}(),B=function(){function e(n){var t=this,r;U()(this,e),h()(this,"config",null),h()(this,"isMounted",!1),h()(this,"parent",void 0),h()(this,"name",void 0),h()(this,"_forkName",void 0),h()(this,"_tupleParts",void 0),h()(this,"id",void 0),h()(this,"_forkMap",void 0),h()(this,"fieldType",void 0),h()(this,"_readonlyValue",void 0),h()(this,"state",{}),h()(this,"handleFocus",function(){}),h()(this,"handleBlur",function(){return t.validate("blur")}),h()(this,"handleChange",function(u){var f,c,d;u===void 0&&((f=t.config)===null||f===void 0?void 0:f.defaultValue)!==void 0&&(console.warn("[xform] xform \u4E2D\u6240\u6709\u7EC4\u4EF6\u5747\u4E3A\u53D7\u63A7\u7528\u6CD5\uFF0C\u4E0D\u652F\u6301 onChange(undefined)\uFF0C\u8BE5\u8C03\u7528\u5C06\u81EA\u52A8\u53D8\u4E3A onChange(null)"),u=null),t.value=u;for(var m=arguments.length,p=new Array(m>1?m-1:0),s=1;s<m;s++)p[s-1]=arguments[s];return(c=t.config)===null||c===void 0||(d=c.afterChange)===null||d===void 0||d.call.apply(d,[c,u].concat(p)),t.validate("change")}),h()(this,"clear",function(){var u,f;if(!t.isDeleted){var c=t.parent;if((u=(f=t.state).cancelValidation)===null||u===void 0||u.call(f),t.state.error=null,c.values!=null){if(t.fieldType===M.normal)delete c.values[t.name];else if(t.fieldType===M.tuple){var d=K()(t._tupleParts),m;try{for(d.s();!(m=d.n()).done;){var p=m.value;delete c.values[p]}}catch(s){d.e(s)}finally{d.f()}}}}}),this.fieldType=n.fieldType,this.parent=n.parent,this.name=n.name,this.id=this.parent.root._fieldIdGenerator.getNextId(),this._forkName=(r=n.forkName)!==null&&r!==void 0?r:e.ORIGINAL,n.fieldType===M.tuple?this._tupleParts=n.tupleParts:n.fieldType===M.readonly&&(this._readonlyValue=n.value);var a=this.name,i=this._forkName;if((0,l.makeObservable)(this,{state:l.observable,value:l.computed,path:l.computed,validate:l.action,handleBlur:l.action,handleChange:l.action,clear:l.action,isDeleted:l.computed},{name:"".concat(this.id,"(").concat(a).concat(i===e.ORIGINAL?"":"#"+i,")")}),i===e.ORIGINAL)this._forkMap=new Map;else{var o=this.parent.getField(a);this._forkMap=o._forkMap}this._forkMap.set(i,this)}return X()(e,[{key:"value",get:function(){var t=this;if(this.fieldType===M.normal)return this.parent.getValue(this.name);if(this.fieldType===M.tuple)return this._tupleParts.map(function(r){return t.parent.getValue(r)});if(this.fieldType===M.readonly)return this._readonlyValue},set:function(t){var r=this;if(this.isDeleted){console.warn("[xform] \u5BF9\u5DF2\u5220\u9664\u7684 Field \u8FDB\u884C\u8D4B\u503C\u5C06\u88AB\u5FFD\u7565\u3002\u8BF7\u4E0D\u8981\u5BF9\u5DF2\u5220\u9664\u7684 Model/Field \u8FDB\u884C\u64CD\u4F5C\u3002");return}this.fieldType===M.normal?this.parent.setValue(this.name,t):this.fieldType===M.tuple?this._tupleParts.forEach(function(a,i){r.parent.setValue(a,t==null?t:t[i])}):this.fieldType===M.readonly&&console.warn("[xform] \u5BF9\u53EA\u8BFB Field \u8FDB\u884C\u8D4B\u503C\u5C06\u88AB\u5FFD\u7565\uFF0C\u8BF7\u68C0\u67E5\u662F\u5426\u4E3A FormItem \u8BBE\u7F6E\u4E86 props.name \u6216 props.field.")}},{key:"path",get:function(){return this.parent.path.concat([this.name])}},{key:"_track",value:function(t){var r=this;if(this.isMounted){console.warn("[xform] field `".concat(this.path.join("."),"` \u5DF2\u5728\u89C6\u56FE\u4E2D\u88AB\u52A0\u8F7D\uFF0C\u4F60\u9700\u8981 fork \u8BE5\u5B57\u6BB5\u6765\u8FDB\u884C\u591A\u6B21\u52A0\u8F7D."));return}return this.config=t,this.isMounted=!0,function(){r.config=null,r.isMounted=!1}}},{key:"getFork",value:function(t){if(this._forkMap.has(t))return this._forkMap.get(t);var r={parent:this.parent,name:this.name,forkName:t};if(this.fieldType===M.normal)return new e(g()({fieldType:M.normal},r));if(this.fieldType===M.tuple)return new e(g()({fieldType:M.tuple,tupleParts:this._tupleParts},r));if(this.fieldType===M.readonly)return new e(g()({fieldType:M.readonly,value:this._readonlyValue},r))}},{key:"validate",value:function(){var n=ue()(H()().mark(function r(){var a,i,o=this,u,f,c,d,m,p,s,y,C,F,T,N,Y,I,x,E,S=arguments;return H()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(u=S.length>0&&S[0]!==void 0?S[0]:"*",this.isMounted){A.next=3;break}return A.abrupt("return");case 3:if(f=this.config,c=f.validate,d=f.defaultValue,m=f.isEmpty,p=f.required,s=f.requiredMessage,y=s===void 0?"\u8BE5\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879":s,C=f.validateOnMount,F=f.validateOnBlur,T=f.validateOnChange,N=u==="*"||F&&u==="blur"||C&&u==="mount"||T&&u==="change",N){A.next=7;break}return A.abrupt("return");case 7:if(Y=!1,(a=(i=this.state).cancelValidation)===null||a===void 0||a.call(i),this.state.validating=!0,this.state.cancelValidation=(0,l.action)(function(){Y=!0,o.state.cancelValidation=null,o.state.validating=!1}),I=(0,l.action)(function(le){if(!Y)return o.state.cancelValidation=null,o.state.validating=!1,o.state.error=le,le}),x=(0,l.toJS)(P(this.value,d)),!(p&&m(x))){A.next=15;break}return A.abrupt("return",I(y));case 15:if(!c){A.next=24;break}if(E=c(x,this,u),typeof(E==null?void 0:E.then)!="function"){A.next=21;break}return A.abrupt("return",Promise.resolve(E).then(I));case 21:return A.abrupt("return",I(E));case 22:A.next=25;break;case 24:return A.abrupt("return",I(null));case 25:case"end":return A.stop()}},r,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"isDeleted",get:function(){return this.parent.isDeleted}}],[{key:"getHtmlId",value:function(t,r){if(!(t==null||typeof t!="string")){var a=r.path.join("."),i=r._forkName!==e.ORIGINAL?"#".concat(r._forkName):"";return"".concat(t).concat(a).concat(i)}}}]),e}();h()(B,"ORIGINAL","original");var pt=v(82187),ce=v.n(pt),Q=v(86344),gt=v(34377),fe=(0,V.createContext)(null);function G(){return(0,V.useContext)(fe)}fe.displayName="ModelContext";var re=fe.Provider,yt=["children"],he=(0,V.createContext)({isPreview:!1,validateOnMount:!1,validateOnBlur:!0,validateOnChange:!0,writeDefaultValueToModel:!1,autoUnmount:!1});he.displayName="FormEnvContext";var z=function(){return(0,V.useContext)(he)};function Ce(e){var n=e.children,t=$()(e,yt),r=z();return(0,b.jsx)(he.Provider,{value:g()(g()({},r),t),children:n})}var Me=v(56956),ve=v(64121),bt=v(56899),Ft=v(89992),Vt=v(35549),Ct=v(70991),Mt=v(86864),xe=v(84007),Ee=v(44607),xt=v(17888),k=v.n(xt),Et=v(32154),Pt=v.n(Et),It=v(38870),St=v.n(It),At=v(50458),kt=v.n(At),Tt=["value","onChange","picker"],Nt=["value","onChange","format","picker"],wt=["value","onChange","format"],Yt=["value","onChange","format"];k().extend(Pt()),k().extend(St()),k().extend(kt());function w(e){return!e&&e!==0||Array.isArray(e)&&e.length===0}var Pe="HH:mm:ss",Ie={date:"YYYY-MM-DD",week:"gggg-[W]W",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},Se=function(n){return n==null||n===""||Array.isArray(n)&&n.length===2&&!n[0]&&!n[1]},me=function(n){return function(t){var r=function(i){var o;(o=t.onChange)===null||o===void 0||o.call(t,i.target.value)};return(0,b.jsx)(n,g()(g()({},t),{},{onChange:r}))}},Dt=function(n){return function(t){var r=t.value,a=t.onChange,i=t.picker,o=$()(t,Tt),u=(0,V.useMemo)(function(){if(r)if(i==="week"){var c=r.split("-"),d=W()(c,2),m=d[0],p=d[1],s=parseInt(p,10);if(m&&!isNaN(s))return k()().year(parseInt(m,10)).week(s).startOf("week")}else return i==="month"?k()(r,"YYYY-MM"):i==="quarter"?k()(r,"YYYY-[Q]Q"):i==="year"?k()(r,"YYYY"):k()(r)},[r,i]),f=(0,V.useCallback)(function(c,d){if(!c||!c.isValid()){a==null||a(null);return}var m;if(i==="week"){var p=c.year(),s=c.week();m="".concat(p,"-").concat(s)}else i==="month"?m=c.format("YYYY-MM"):i==="quarter"?m=c.format("YYYY-Q"):i==="year"?m=c.format("YYYY"):m=c.format("YYYY-MM-DD");a==null||a(m)},[a,i]);return(0,b.jsx)(n,g()(g()({},o),{},{picker:i,value:u,onChange:f}))}},Ot=function(n){return function(t){var r,a=t.value,i=t.onChange,o=t.format,u=t.picker,f=u===void 0?"date":u,c=$()(t,Nt),d=o||Ie[f]||Ie.date,m=(0,V.useMemo)(function(){if(Se(a)||!Array.isArray(a))return null;var s=W()(a,2),y=s[0],C=s[1];if(Se([y,C]))return null;var F=function(E,S){if(!E)return null;switch(S){case"week":{var j=E.match(/^(\d{4})-?W?(\d+)$/i);if(!j)return null;var A=parseInt(j[1],10),le=parseInt(j[2],10);return k()().year(A).week(le).startOf("week")}case"month":return k()(E,"YYYY-MM",!0);case"quarter":{var ge=E.match(/^(\d{4})-?Q?([1-4])$/i);if(!ge)return null;var dn=parseInt(ge[1],10),cn=parseInt(ge[2],10),fn=(cn-1)*3;return k()("".concat(dn,"-").concat(String(fn+1).padStart(2,"0"),"-01"),"YYYY-MM-DD",!0)}case"year":return k()(E,"YYYY",!0);case"date":default:return k()(E,d,!0)}},T=F(y,f),N=F(C,f),Y=T&&T.isValid(),I=N&&N.isValid();return!Y&&!I?null:[Y?T:null,I?N:null]},[a,f,d]),p=(0,V.useCallback)(function(s,y){if(!s||!s[0]&&!s[1]){i==null||i(null);return}var C=W()(s,2),F=C[0],T=C[1],N=function(x,E){if(!x||!x.isValid())return"";switch(E){case"week":return"".concat(x.year(),"-W").concat(x.week());case"month":return x.format("YYYY-MM");case"quarter":{var S=x.year(),j=Math.floor(x.month()/3)+1;return"".concat(S,"-Q").concat(j)}case"year":return x.format("YYYY");case"date":default:return x.format(d)}},Y=[N(F,f),N(T,f)];!Y[0]&&!Y[1]?i==null||i(null):i==null||i(Y)},[i,f,d]);return(0,b.jsx)(n,g()(g()({},c),{},{picker:f,format:d,value:m,onChange:p,allowClear:(r=c.allowClear)!==null&&r!==void 0?r:!0}))}},$t=function(n){return function(t){var r=t.value,a=t.onChange,i=t.format,o=i===void 0?Pe:i,u=$()(t,wt),f=(0,V.useMemo)(function(){if(r){var d=String(r).trim();if(d){var m=k()(d,o,!0);return m.isValid()?m:void 0}}},[r,o]),c=(0,V.useCallback)(function(d,m){if(!d||!d.isValid()){a==null||a(null);return}var p=d.format(o);a==null||a(p)},[a,o]);return(0,b.jsx)(n,g()(g()({},u),{},{format:o,value:f,onChange:c}))}},jt=function(n){return function(t){var r=t.value,a=t.onChange,i=t.format,o=i===void 0?Pe:i,u=$()(t,Yt),f=(0,V.useMemo)(function(){if(!(!r||!Array.isArray(r))){var d=W()(r,2),m=d[0],p=d[1];if(!(!m&&!p)){var s=m?k()(m,o,!0):null,y=p?k()(p,o,!0):null,C=s&&s.isValid(),F=y&&y.isValid();if(!(!C&&!F))return[C?s:null,F?y:null]}}},[r,o]),c=(0,V.useCallback)(function(d,m){if(!d){a==null||a(null);return}var p=W()(d,2),s=p[0],y=p[1],C=[s!=null&&s.isValid()?s.format(o):"",y!=null&&y.isValid()?y.format(o):""];!C[0]&&!C[1]?a==null||a(null):a==null||a(C)},[a,o]);return(0,b.jsx)(n,g()(g()({},u),{},{format:o,value:f,onChange:c}))}},Wt=function(n){return function(t){var r=V.forwardRef(function(a,i){var o=g()(g()({},n),a);return(0,b.jsx)(t,g()({ref:i},o))});return r.displayName="WithInjectedProps(".concat(t.displayName||t.name,")"),r}},Gt=[{name:"input",component:me(Me.Z),defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"textArea",component:me(Me.Z.TextArea),defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"select",component:ve.default,defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"singleSelect",component:ve.default,defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"multiSelect",component:Wt({mode:"multiple"})(ve.default),defaultValue:[],isEmpty:w,hasIntrinsicWidth:!1},{name:"radio",component:me(bt.ZP.Group),defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"checkbox",component:Ft.Z.Group,defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"inputNumber",component:Vt.Z,defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"slider",component:Ct.Z,defaultValue:"",isEmpty:w,hasIntrinsicWidth:!1},{name:"switch",component:Mt.Z,defaultValue:!1,isEmpty:w,hasIntrinsicWidth:!1},{name:"datePicker",component:Dt(xe.default),defaultValue:!1,isEmpty:w,hasIntrinsicWidth:!1},{name:"dateRangePicker",component:Ot(xe.default.RangePicker),defaultValue:!1,isEmpty:w,hasIntrinsicWidth:!1},{name:"timePicker",component:$t(Ee.Z),defaultValue:!1,isEmpty:w,hasIntrinsicWidth:!1},{name:"timeRangePickerPicker",component:jt(Ee.Z.RangePicker),defaultValue:!1,isEmpty:w,hasIntrinsicWidth:!1}],Lt=["defaultValue","isEmpty","renderPreview","componentProps","name","field"],Bt=["$Component"],Rt=["use","component"];function Ht(e){var n,t,r,a=(n=e.render)!==null&&n!==void 0?n:function(i){return V.createElement(e.component,i)};return{name:e.name,hidden:e.hidden,withField:!!e.withField,statusPropName:P(e.statusPropName,"state"),valuePropName:P(e.valuePropName,"value"),hasIntrinsicWidth:e.hasIntrinsicWidth!==!1,defaultValue:Object.keys(e).includes("defaultValue")?e.defaultValue:null,isEmpty:(t=e.isEmpty)!==null&&t!==void 0?t:dt,render:a,renderPreview:(r=e.renderPreview)!==null&&r!==void 0?r:a}}function Ut(e,n,t,r){var a;return e!=null?a=e:t==="&"?a=n._asField():t!=null?a=n.getField(t):a=new B({fieldType:M.readonly,value:r,name:"(readonly)",forkName:B.ORIGINAL,parent:n}),a}function Ae(e){var n=e.htmlId,t=e.label,r=t===void 0?"":t,a=e.help,i=e.tip,o=e.asterisk,u=e.error,f=e.children,c=e.className,d=e.style,m=e.labelWidth,p=e.controlWidth,s=e.rightNode,y=e.labelStyle,C=e.controlStyle;return(0,b.jsxs)("div",{"data-xform-id":n,className:ce()("form-item",c),style:g()({"--label-width":J(m),"--control-width":J(p)},d),children:[r==null&&i==null?null:(0,b.jsxs)("label",{className:"form-item-label",htmlFor:n,style:y,children:[o&&(0,b.jsx)("span",{className:"required-indicator"}),r&&(0,b.jsx)("span",{className:"form-item-label-text",children:r})]}),(0,b.jsxs)("div",{className:"form-item-control",style:C,children:[f,a&&(0,b.jsx)("div",{className:"help",children:a}),u&&(0,b.jsx)("div",{className:"error-message",children:u})]}),s]})}function _(e){var n=Ht(e);function t(r){var a,i=r.defaultValue,o=r.isEmpty,u=o===void 0?n.isEmpty:o,f=r.renderPreview,c=f===void 0?n.renderPreview:f,d=r.componentProps,m=r.name,p=r.field,s=$()(r,Lt),y=z(),C=G(),F=Ut(p,C,m,s.value),T=P(s.isPreview,y.isPreview),N=P(s.error,F.state.error),Y=P(i,n.defaultValue),I=(0,l.toJS)(P(F.value,Y)),x=B.getHtmlId(y.htmlIdPrefix,F),E=g()(g()(g()(g()({id:x},T?{isPreview:!0}:null),ft(s,["dataSource","readOnly","disabled","options"])),d),{},h()(h()(h()(h()(h()({},n.statusPropName,P(d==null?void 0:d[n.statusPropName],P(s[n.statusPropName],N?"error":void 0))),n.valuePropName,P(s[n.valuePropName],I)),"onChange",P(s.onChange,F.handleChange)),"onFocus",P(s.onFocus,F.handleFocus)),"onBlur",P(s.onBlur,F.handleBlur)));n.withField&&(E.field=F);var S=g()({htmlId:x,valueProp:s[n.valuePropName],defaultValue:Y,defaultValueProp:i,isEmpty:u,validateOnChange:y.validateOnChange,validateOnBlur:y.validateOnBlur,validateOnMount:y.validateOnMount,writeDefaultValueToModel:y.writeDefaultValueToModel,autoUnmount:y.autoUnmount},s);return(0,V.useLayoutEffect)(function(){return F._track(S)}),(0,V.useLayoutEffect)(function(){return S.writeDefaultValueToModel==="force"?(0,l.reaction)(function(){return F.value},function(){F.value===void 0&&S.defaultValueProp!==void 0&&(F.value=S.defaultValueProp)},{fireImmediately:!0}):(S.writeDefaultValueToModel&&F.value===void 0&&S.defaultValueProp!==void 0&&(0,l.runInAction)(function(){F.value=S.defaultValueProp}),function(){S.autoUnmount&&F.clear()})},[]),(0,V.useEffect)(function(){if(S.validateOnMount){F.validate("mount");var j=F.state.cancelValidation;return function(){j==null||j()}}},[]),n.hidden&&s.renderHiddenFormItemView===!1?null:(0,b.jsx)(Ae,{htmlId:x,label:s.label,help:s.help,asterisk:(a=s.asterisk)!==null&&a!==void 0?a:s.required,error:N,tip:s.tip,style:s.style,className:ce()(s.className,{"form-item-hidden":n.hidden,"form-item-preview":T,"auto-control-width":n.hasIntrinsicWidth}),labelWidth:s.labelWidth,labelStyle:s.labelStyle,controlWidth:s.controlWidth,controlStyle:s.controlStyle,rightNode:s.rightNode,children:T?c(E):n.render(E)})}return t.displayName="FormItem__".concat(n.name),(0,Q.observer)(t)}var ke={},ae=K()(Gt),Te;try{for(ae.s();!(Te=ae.n()).done;){var Ne=Te.value,Xt=_(Ne);ke[Ne.name]=Xt}}catch(e){ae.e(e)}finally{ae.f()}var Zt=_({name:"anonymous",render:function(n){var t=n.$Component,r=$()(n,Bt);return(0,b.jsx)(t,g()({},r))}}),we=_({name:"notFound",isEmpty:function(){return!1},render:function(n){var t=n.$Component;return(0,b.jsxs)("div",{style:{border:"1px dashed red",fontSize:14,padding:4,color:"red"},children:[(0,b.jsxs)("code",{children:["<FormItem component='",t,"' />"]})," ","\u6CA1\u6709\u627E\u5230\u5BF9\u5E94\u7EC4\u4EF6\uFF0C\u8BF7\u68C0\u67E5\u7EC4\u4EF6\u540D\u79F0\u662F\u5426\u62FC\u5199\u6B63\u786E"]})}}),Jt=_({name:"hidden",hidden:!0,hasIntrinsicWidth:!1,defaultValue:void 0,isEmpty:function(){return!1},render:function(n){var t=n.id,r=n.value;return(0,b.jsx)("input",{type:"hidden",value:(0,gt.Z)(r),id:t})}});function Qt(e){var n=e.use,t=e.component,r=$()(e,Rt);if(n===!1)return null;if(t==null)return(0,b.jsx)(we,g()(g()({},r),{},{componentProps:{$Component:String(t)}}));if(typeof t=="string"){if(t==="hidden")return(0,b.jsx)(Jt,g()({},r));var a=ke[t];return a==null?(0,b.jsx)(we,g()(g()({},r),{},{componentProps:{$Component:t}})):V.createElement(a,r)}else return(0,b.jsx)(Zt,g()(g()({},r),{},{componentProps:g()(g()({},r.componentProps),{},{$Component:t})}))}function ee(e){se()(e._valueShape==="auto"||e._valueShape==="array",'arrayModel._valueShape should be "auto" or "array"')}function ie(e){e._subModels.forEach(function(n,t){n.name=String(t)})}function Ye(e,n,t){if(e!=null){var r=e.splice(n,1),a=W()(r,1),i=a[0];e.splice(t,0,i)}}function oe(e,n,t){if(e!=null){var r=e[n];e[n]=e[t],e[t]=r}}var De={append:(0,l.action)(function(e,n){e.values==null&&(e.values=[]);var t=P(typeof n=="function"?n(e):n,{});e.values.push(t)}),delete:(0,l.action)(function(e,n){if(ee(e),Array.isArray(e.values)&&e.values.splice(n,1),Array.isArray(e._subModels)){var t=e._subModels.splice(n,1),r=W()(t,1),a=r[0];a._markDeleted(),ie(e)}}),moveUp:(0,l.action)(function(e,n){ee(e),n!==0&&(Array.isArray(e.values)&&oe(e.values,n,n-1),Array.isArray(e._subModels)&&(oe(e._subModels,n,n-1),ie(e)))}),moveDown:(0,l.action)(function(e,n){if(ee(e),Array.isArray(e.values)){if(n===e.values.length-1)return;oe(e.values,n,n+1)}Array.isArray(e._subModels)&&(oe(e._subModels,n,n+1),ie(e))}),clear:(0,l.action)(function(e){ee(e),!(e.values==null||e.values.length===0)&&(e.values=[],Array.isArray(e)&&(e._subModels.forEach(function(n){n._markDeleted()}),e._subModels.length=0))}),move:(0,l.action)(function(e,n,t){ee(e),Array.isArray(e.values)&&Ye(e.values,n,t),Array.isArray(e._subModels)&&(Ye(e._subModels,n,t),ie(e))}),renderArrayItem:function(n,t,r){var a=n.getSubModel(t);return(0,b.jsx)(O.ModelProvider,{value:a,children:r(t,a)},a.id)},getKey:function(n,t){return n.getSubModel(t).id}},zt=function(n){var t=n.arrayModel,r=n.itemContent,a=n.itemCount;return ct(a).map(function(i){return De.renderArrayItem(t,i,r)})},Kt=(0,Q.observer)(function(e){var n,t,r=e.name,a=e.children,i=e.layout,o=e.arrayModel,u=e.use,f=G();if(u===!1)return null;var c=o!=null?o:r==="&"?f:f.getSubModel(r),d=(n=(t=c.values)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0,m=typeof a=="function"?a:function(){return a};return(0,b.jsx)(re,{value:c,children:(i!=null?i:zt)({arrayModel:c,itemCount:d,itemContent:m})})}),qt=(0,Q.observer)(function(n){var t=n.name,r=n.check,a=n.validate,i=n.watch,o=i===void 0?[]:i,u=n.validateOnMount,f=n.renderError,c=n.deps,d=c===void 0?[]:c,m=z(),p=G(),s=P(r,p.getCheck(t)),y={validateOnMount:u!=null?u:m.validateOnMount,validate:a};return(0,V.useLayoutEffect)(function(){return s._track(y)}),(0,V.useEffect)(function(){return(0,l.reaction)(Fe(o,p),function(){s.validate()},{fireImmediately:y.validateOnMount})},[s,p].concat(te()(d))),f===!0?s.error:typeof f=="function"?f(s.error):null}),R={clearError:(0,l.action)(function(e){e.iterateFields(function(n){n.state.error=null}),e.iterateChecks(function(n){n.error=null})}),scrollToFirstError:function(n){var t=K()(n),r;try{for(t.s();!(r=t.n()).done;){var a,i=r.value;if((a=i.config)!==null&&a!==void 0&&a.htmlId){var o=document.querySelector('*[data-xform-id="'.concat(i.config.htmlId,'"]'));if(o){typeof o.scrollIntoViewIfNeeded=="function"?o.scrollIntoViewIfNeeded():o.scrollIntoView({block:"nearest"});return}}}}catch(u){t.e(u)}finally{t.f()}},animateErrorFields:function(n){var t=K()(n),r;try{for(t.s();!(r=t.n()).done;){var a,i=r.value;if((a=i.config)!==null&&a!==void 0&&a.htmlId){var o=document.querySelector('*[data-xform-id="'.concat(i.config.htmlId,'"]'));o&&o.animate([{offset:0,transform:"translateX(0)"},{offset:.065,transform:"translateX(-6px) rotateY(-9deg)"},{offset:.185,transform:"translateX(5px) rotateY(7deg)"},{offset:.315,transform:"translateX(-3px) rotateY(-5deg)"},{offset:.435,transform:"translateX(2px) rotateY(3deg)"},{offset:.5,transform:"translateX(0)"}],{duration:750})}}}catch(u){t.e(u)}finally{t.f()}},validateAll:(0,l.action)(function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*",t=!1,r=(0,l.observable)(e._valueShape==="array"?[]:{}),a=[],i=[];return e.iterateFields(function(o){o.isMounted&&i.push(o.validate(n).then((0,l.action)(function(u){u&&(t=!0,L(r,o.path,u),a.push(o))})))}),e.iterateChecks(function(o){i.push(o.validate().then((0,l.action)(function(u){u&&(t=!0,L(r,o.path,u))})))}),Promise.all(i).then(function(){return{hasError:t,errors:(0,l.toJS)(r),errorFields:a}})}),submit:(0,l.action)(function(){var e=ue()(H()().mark(function n(t){var r,a,i,o,u,f,c,d,m,p,s,y,C,F,T,N=arguments;return H()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return r=N.length>1&&N[1]!==void 0?N[1]:{},a=r.onError,i=r.onSubmit,o=r.valueFilter,u=o===void 0?"mounted":o,f=r.mergeDefaultValue,c=f===void 0?!0:f,d=r.animateErrorFields,m=d===void 0?!1:d,p=r.scrollToFirstError,s=p===void 0?!0:p,I.next=4,R.validateAll(t);case 4:y=I.sent,C=y.hasError,F=y.errors,T=y.errorFields,C?(s&&R.scrollToFirstError(T),m&&R.animateErrorFields(T),a==null||a(F,t)):typeof i=="function"&&(0,l.runInAction)(function(){var x=(0,l.observable)(u==="all"?(0,l.toJS)(t.values):t._valueShape==="array"?[]:{});pe(x,t,{mergeDefaultValue:c}),i((0,l.toJS)(x),t)});case 9:case"end":return I.stop()}},n)}));return function(n){return e.apply(this,arguments)}}()),reset:(0,l.action)(function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.onReset;e.values={},R.clearError(e),t==null||t(e)}),acceptValuesFormView:(0,l.action)(function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pe(e.values,e,n)}),mergeValuesFromViewToView:pe};function pe(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.mergeDefaultValue,a=r===void 0?!0:r;n.iterateFields(function(i){if(i.isMounted){if(i.fieldType===M.normal)if(i.config.valueProp!==void 0)L(e,i.path,i.config.valueProp);else if(i.value!==void 0)L(e,i.path,i.value);else{var o=i.config.defaultValueProp;a&&o!==void 0&&L(e,i.path,o)}else if(i.fieldType===M.tuple){var u=i.parent,f=i.value.some(function(d){return d!==void 0});if(f)i._tupleParts.map(function(d,m){L(e,[].concat(te()(u.path),[d]),i.value[m])});else{var c=i.config.defaultValueProp;a&&c!==void 0&&i._tupleParts.map(function(d,m){L(e,[].concat(te()(u.path),[d]),c==null?void 0:c[m])})}}}})}var _t=["ButtonComponent","children"];function en(e){var n=e.ButtonComponent,t=e.children,r=t===void 0?"\u63D0\u4EA4":t,a=$()(e,_t),i=G(),o=z();return(0,b.jsx)(n,g()(g()({},a),{},{onClick:(0,l.action)(function(){return R.reset(i,o)}),children:r},a))}var tn=v(53649),Oe=v.n(tn),$e=v(10118),je,We,Ge=$e.ZP.div(je||(je=Oe()([`
  --label-width: auto;
  --control-width: auto;
  --form-item-gap: 0;
  --form-item-label-top-position: 0;

  .form-item {
    margin-bottom: var(--form-item-gap);
    line-height: 1.5;

    &.auto-control-width {
      --control-width: auto;
    }
  }

  .form-item-label {
    display: block;
  }

  .form-item-label-text {
    color: #666;
  }

  .form-item.minimal {
    margin-bottom: 0;

    > .error-message,
    > .form-item-label {
      display: none;
    }
  }

  &.horizontal {
    .form-item {
      display: flex;
      align-items: flex-start;
    }

    .form-item-label {
      flex: 0 0 var(--label-width);
      padding-top: var(--form-item-label-top-position);
      padding-right: 12px;
      text-align: right;
    }
  }

  .form-item.form-item-hidden {
    display: none;
  }

  &.vertical {
    .form-item-label {
      font-size: 12px;
      margin-bottom: 4px;
    }
  }

  &.inline-error .error-message {
    position: absolute;
    right: 0;
    top: -24px;
  }

  .form-item-preview {
    > .form-item-label {
      padding-top: 0;
    }
  }

  .required-indicator {
    margin-right: 4px;
    color: #eb4141;
  }

  .required-indicator::before {
    content: '*';
  }

  .error-message {
    margin-top: 2px;
    color: #eb4141;
  }

  .tip {
    margin-left: 4px;
    color: #999;
  }

  .help {
    color: #999999;
    margin-top: 4px;
  }

  .form-item-control {
    position: relative;
    width: var(--control-width);

    > .next-input,
    > .next-select {
      width: 100%;
    }

    > .next-range {
      margin: 8px 0;
    }

    > .next-rating {
      margin-top: 4px;
      margin-bottom: 2px;
    }

    > .next-checkbox-group,
    > .next-radio-group,
    > .next-checkbox-wrapper {
      display: inline-block;
      line-height: 18px;
    }
  }

  &.horizontal .form-item-control {
    > .next-checkbox-group,
    > .next-radio-group,
    > .next-checkbox-wrapper {
      padding-top: 8px;
    }
  }
`])));function Le(e){var n=e.children,t=e.className,r=e.style,a=e.labelPosition,i=a===void 0?"left":a,o=e.labelWidth,u=o===void 0?i==="left"?120:"auto":o,f=e.formItemGap,c=f===void 0?i==="left"?12:16:f,d=e.controlWidth,m=d===void 0?320:d,p=e.defaultLabelTopPosition,s=p===void 0?4:p,y=e.inlineError,C=e.containerProps;return(0,b.jsx)(Ge,g()(g()({style:g()({"--label-width":J(u),"--control-width":J(m),"--form-item-gap":J(c),"--form-item-label-top-position":J(s)},r),className:ce()("xform-container",{horizontal:i==="left",vertical:i==="top","inline-error":i==="top"&&y},t)},C),{},{children:n}))}var nn=$e.ZP.div(We||(We=Oe()([`
  `,`.horizontal & {
    display: flex;
  }
  &.inline {
    .form-item-group-content {
      display: flex;
    }
  }
`])),Ge),vn=function(n){var t=n.label,r=n.asterisk,a=n.tip,i=n.children,o=n.labelWidth,u=n.controlWidth,f=n.className,c=n.style,d=n.inline,m=useFormEnv(),p=m.isPreview;return _jsxs(nn,{className:cx("form-item-group",{inline:d,"form-item-preview":p},f),style:c,children:[t==null&&a==null?null:_jsxs("div",{className:"form-item-label",children:[r&&_jsx("span",{className:"required-indicator"}),t&&_jsx("span",{className:"form-item-label-text",children:t})]}),_jsx("div",{className:"form-item-group-content",style:{"--label-width":asCSSLength(o),"--control-width":asCSSLength(u)},children:i})]})},rn=["ButtonComponent","children"];function an(e){var n=e.ButtonComponent,t=e.children,r=t===void 0?"\u63D0\u4EA4":t,a=$()(e,rn),i=G(),o=z(),u=o.onSubmit,f=o.onError,c={onSubmit:u,onError:f};return(0,b.jsx)(n,g()(g()({},a),{},{onClick:function(){return R.submit(i,c)},children:r},a))}var on=(0,Q.observer)(function(n){var t=n.watch,r=n.effect,a=n.fireImmediately,i=n.deps,o=i===void 0?[]:i,u=n.equals,f=G(),c=(0,V.useRef)(r);return(0,V.useEffect)(function(){c.current=r}),(0,V.useEffect)(function(){return(0,l.reaction)(Fe(t,f),function(d,m){c.current(d,{model:f,prev:m,next:d})},{fireImmediately:a,equals:u})},o),null}),ln=(0,Q.observer)(function(e){var n=e.name,t=e.children,r=e.use,a=G();if(r===!1)return null;var i=n==="&"?a:a.getSubModel(n);return(0,b.jsx)(re,{value:i,children:t})}),un=(0,Q.observer)(function(e){var n=e.children,t=G();return n(t)}),sn=["model","defaultValue","children","className","style","layout","containerProps","htmlIdPrefix"];function O(e){var n=e.model,t=e.defaultValue,r=e.children,a=e.className,i=e.style,o=e.layout,u=e.containerProps,f=e.htmlIdPrefix,c=$()(e,sn),d=(0,V.useState)(function(){return new ne(t)}),m=W()(d,1),p=m[0],s=P(n,p),y=st(f);return(0,b.jsx)(Ce,g()(g()({htmlIdPrefix:y},c),{},{children:(0,b.jsx)(re,{value:s,children:(0,b.jsx)(Le,g()(g()({style:i,className:a,containerProps:u},o),{},{children:r}))})}))}O.Array=Kt,O.Check=qt,O.Effect=on,O.Object=ln,O.Submit=an,O.Layout=Le,O.ItemView=Ae,O.ModelProvider=re,O.ModelConsumer=un,O.FormReset=en}}]);
